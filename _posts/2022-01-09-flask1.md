---
layout: post
title: Flask 로 웹페이지 만들기
comments: true
categories: [tech, programming]
---

안녕하세요 한헌종입니다.
오늘은 python 으로 작성된 웹 프레임워크인 flask 를 이용해 웹페이지를 구현해보겠습니다.
참고로 저는 [이 웹사이트](https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world) 를 통해 flask 를 배울 수 있었습니다.

---

### 1. Flask 기본 구조

#### 폴더 구조:
~~~shell
myapp/
    __init__.py
    routes.py
run_myapp.py
~~~

#### myapp/\_\_init\_\_.py:
~~~python
from flask import Flask

app = Flask(__name__)

from myapp import routes
~~~

#### myapp/routes.py:
~~~python
from flask import Flask
from myapp import app

@app.route("/")
@app.route("/index")
def index_func():
    return "hello world!"
~~~

#### run_myapp.py:
~~~python
from myapp import app
~~~

#### 웹페이지 실행하기
~~~shell
$ export FLASK_APP=run_myapp.py
$ flask run
 * Serving Flask app 'run_myapp.py' (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
~~~
이후 http://127.0.0.1:5000/ 로 접속하면 "hello world!" 를 볼 수 있습니다.

| ![-]({{"/assets/220109/image1.png"| relative_url}}) | 
|:--:| 
| *Hello world 로 시작하는게 정석!* |

설명하자면, \_\_init\_\_.py 작성을 통해 myapp 이라는 패키지가 만들어지게 됩니다.
여기서 Flask 클래스의 인스턴스인 app 이라는 변수가 만들어지고, 이는 myapp 패키지의 멤버 변수가 됩니다.
routes.py 모듈에서는 myapp 패키지의 app 변수를 import 합니다.
그리고 이를 decorator 로 활용해 "/" 와 "/index" 페이지를 index_func 함수에 연결해 줍니다.
즉, 이 URL 에 대한 request 가 들어오면 해당 함수가 응답해주는 겁니다.
여기서는 다른 작업 없이 문자열 "hello world!" 만 반환하고 있습니다.
환경변수 FLASK_APP 을 run_myapp.py 로 설정하고 flask run 명령어를 입력하면 웹페이지가 구동됩니다.
